<!DOCTYPE html>
<html>
<head>
  <title>discord-SCK testing5</title>
</head>
<body>

<h1>discord-SCK</h1>
<button id="loginBtn">Login with Discord</button>

<div id="output"></div>

<script type="module">
import { DiscordSCK } from "./web-sdk/discord-sck.js";

const sdk = new DiscordSCK({
  clientId: "1471857321696166072",
  api: "https://discord-sdk.onrender.com"
});

document.getElementById("loginBtn").onclick = () => sdk.login();

// Optional: handle redirect after OAuth
window.addEventListener("load", async () => {
  try {
    const user = await sdk.handleRedirect();
    if (user) {
      document.getElementById("output").innerText =
        `Logged in as ${user.username}#${user.discriminator}`;
    }
  } catch (err) {
    console.error(err);
  }
});
</script>

</body>
</html>
